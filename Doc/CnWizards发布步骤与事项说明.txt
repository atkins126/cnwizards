**********************************************************************
                     CnPack For Delphi/C++Builder
                     中国人自己的免费第三方开发包
                 (C)Copyright 2001-2025 CnPack 开发组
**********************************************************************

                      CnWizards发布步骤与事项说明
                           Revision 1.0.0.0
                       =========================
                         作者：刘啸 2025.05.12                   
 


CnPack IDE 专家包的每日构建版本经过各种测试，功能趋向与稳定、每个 Delphi 版本安装后至少都能无错启动及退出后，就有条件发布正式版了。
发布 CnPack IDE 专家包的正式版是个繁杂的事儿，这里写个文档把各个步骤记下来备忘。

一、发布前的准备工作

  01. 确定发布日期与新版本号。
  02. 更新 cnvcl 的四个 CnConsts.pas 文件中的版本号与多个 cnvcl\Readme.*.txt 中的日期。
  03. 更新 cnwizards 中的多个 cnwizards\Readme.*.txt 中的版本号与日期。
  04. 修改帮助文件中的历史记录，也即 cnwizards\Help\CnWizards_***\other\history.htm的新版内容。
  05. 修改更新通知文件 cnwizards\Install\Output\upgrade.ini的历史更新内容，下载链接暂时未知，可不动。

二、发布当日的准备工作

  06. 按新版本号修改 cnwizards\Make\release.ini 中的打包版本号。
  07. 运行 cnwizards\Make\WantUI.exe，选择 release=true，打出最终的 CnWizards 安装包，在cnwizards\Install\Output 下。
  08. 新建一空白目录，用 git clone 从头下载 cnvcl 与 cnwizards 两个库的最新源码，删除其内部的 .git 目录。
  09. 将 cnvcl 目录单独压缩成 cnvcl_20******.7z 格式的压缩包作为待发布的组件包源码，一般选极限压缩以减少其体积。
  10. 将 cnvcl 与 cnwizards 俩目录共同压缩成 cnwizards_*.*.*.****_src.7z 格式的专家包源码压缩包。
  11. 运行 cnvcl 目录下的 GenCrypto.bat，生成最新版的 cncrypto 源码发布目录，同样压缩成 cncrypto_********.7z 格式的压缩包。

  有了以上三个源码包和一个专家安装包，就能进行发布了。

三、发布步骤

  GitHub上（针对国内外下载用户）：

  12. 在 https://github.com/cnpack/cnwizards/ 中新建 release，上传专家包源码与专家包安装文件两个附件。
  13. 创建新的 Tag，填写历史更新记录，发布，并记录发布后的专家包安装文件与专家包源码文件两个下载 URL。
  14. 在 https://github.com/cnpack/cnvcl/ 中新建 release，上传组件包源码一个附件。
  15. 创建新的 Tag，填写历史更新记录，发布，并记录发布后的组件包源码文件一个下载 URL。

  Gitee上（针对国内下载用户）：

  16. 在 https://gitee.com/cnpack/cnwizards/ 的仓库镜像管理中，同步 github 库的最新源码。
  17. 在 https://gitee.com/cnpack/cnwizards/ 中，新建 release，上传专家包源码与专家包安装文件两个附件。
  18. 创建新的 Tag，填写历史更新记录，发布，并记录发布后的专家包安装文件与专家包源码文件两个下载 URL。
  19. 在 https://gitee.com/cnpack/cnvcl/ 的仓库镜像管理中，同步 github 库的最新源码。
  20. 在 https://gitee.com/cnpack/cnvcl/ 中新建 release，上传组件包源码一个附件。
  21. 创建新的 Tag，填写历史更新记录，发布，并记录发布后的组件包源码文件一个下载 URL。
  22. 在 https://gitee.com/cnpack/cncrypto/ 中新建 release，上传 cncrypto 源码包一个附件。
  23. 创建新的 Tag，填写历史更新记录，发布，并记录发布后的 cncrypto 源码包文件一个下载 URL。

  网盘：

  24. 将专家包安装文件、专家包源码包、组件包源码包上传至百度网盘（或其他网盘）新目录下，设置永久分享，记录分享 URL。

  这里，我们成功地把专家包、组件包、加解密包发布到了 GitHub 平台与 Gitee 平台及网盘，并记录了它们的 URL 供大家下载。

四、发布后的各类公告与通知

  cnpack.org 网站：

  24. 新建专家包中文发布页面，指定版本号、发布内容与更新记录，并新增附件链接，将 Gitee 的两个专家包链接及网盘分享链接贴入，并记录生成的专家包安装文件的网站下载中转链接。
  25. 新建专家包英文发布页面，指定版本号、发布内容与更新记录，并新增附件链接，将 GitHub 的两个专家包链接贴入，并记录生成的专家包安装文件的网站下载中转链接。
  26. 新建组件包中文发布页面，指定版本发布日期、发布内容与更新记录，并新增附件链接，将 Gitee 的组件包链接贴入。
  27. 新建组件包英文发布页面，指定版本发布日期、发布内容与更新记录，并新增附件链接，将 GitHub 的组件包链接贴入。
  28. 新建加解密包中文发布页面，指定版本发布日期、发布内容与更新记录，并新增附件链接，将 Gitee 的组件包链接贴入（英文先不整）。
  29. 新建网站中文新闻，将专家包中文发布页面链接贴入。
  30. 新建网站英文新闻，将专家包英文发布页面链接贴入。

  专家包在线更新通知：

  31. 将第 24、25 步生成的中英文专家包安装文件的网站下载中转链接贴至 upgrade.ini 的 URL_CN 和 URL 中，并上传至 cnpack.org 网站。

  其他渠道与媒体：

  32. 发一篇微信公众号文章作为新版专家包发布通知。
  33. 将该文章链接发至 CnPack 的各微信群、各  QQ 群及 Delphi 业界的 QQ 各大群。
  34. 将发布新闻及该文章链接发至 2ccc/csdn 等论坛。
  35. 专家包安装文件提交 GetIt。

至此，一个完整的新版 CnPack IDE 专家包发布完成，等着收错误报告与建议，进行下一轮迭代吧。

【完】

  
